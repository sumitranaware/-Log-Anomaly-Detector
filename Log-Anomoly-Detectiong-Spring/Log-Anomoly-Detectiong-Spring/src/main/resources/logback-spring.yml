configuration:
  scan: true
  scanPeriod: 30 seconds

  appender:
    - name: CONSOLE
      class: ch.qos.logback.core.ConsoleAppender
      encoder:
        pattern: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

    - name: FILE
      class: ch.qos.logback.core.rolling.RollingFileAppender
      file: logs/app.log
      rollingPolicy:
        class: ch.qos.logback.core.rolling.TimeBasedRollingPolicy
        fileNamePattern: logs/app.%d{yyyy-MM-dd}.log
        maxHistory: 7
      encoder:
        pattern: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

    - name: KAFKA
      class: com.github.danielwegener.logback.kafka.KafkaAppender
      topic: project-logs
      producerConfig: "bootstrap.servers=localhost:9092"
      keyingStrategy:
        class: com.github.danielwegener.logback.kafka.keying.RoundRobinKeyingStrategy
      deliveryStrategy:
        class: com.github.danielwegener.logback.kafka.delivery.AsynchronousDeliveryStrategy
      encoder:
        class: net.logstash.logback.encoder.LogstashEncoder

  root:
    level: INFO
    appender-ref:
      - ref: CONSOLE
      - ref: FILE
      - ref: KAFKA

  logger:
    - name: org.springframework
      level: INFO
    - name: com.example
      level: DEBUG
